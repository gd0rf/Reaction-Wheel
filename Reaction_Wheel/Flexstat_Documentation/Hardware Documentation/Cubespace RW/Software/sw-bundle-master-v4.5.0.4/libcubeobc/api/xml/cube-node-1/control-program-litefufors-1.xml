<?xml version="1.0" encoding="utf-8"?>
<NodeDefinition xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <IsModule>false</IsModule>
  <Name>cube-node-1-control-program-litefufors-1</Name>
  <CodeName>CubeNodeControlProgramLitefufors</CodeName>
  <InterfaceVersion>1</InterfaceVersion>
  <NodeTypeId2>275</NodeTypeId2> <!-- NodeTypeCubeNodeQuadLitefufors & ProgramTypeControl ~ See NodeType/ProgramType Enums in common-framework.xml -->
  <NodeTypeIdMask2>65535</NodeTypeIdMask2> <!-- Match NodeType(0x00FF) & ProgramType(0xFF00) -->
  <CanLog>false</CanLog>

  <Ttcs CanSet="true" CanGet="false" CodeName="UforsPower" DisplayName="uFORS Power State" Description="Set the uFORS Power States" Len="4" PartOfStartItem="0" PartOfNumItems="0" Group="uFORS">
    <Item CodeName="PowerUfors"            DisplayName="Power State uFORS"            Description="uFORS Power State"           BitOffset="0"   BitLength="32" ValueType="Struct" StructName="PowerState" Iterator="Ports" />
  </Ttcs>

  <Ttcs CanSet="true" CanGet="true" CodeName="NodeSvcSettings" DisplayName="Node Service Settings" Description="Set/Get the Node Service Settings" Len="1" PartOfStartItem="0" PartOfNumItems="0" Group="uFORS">
    <Item CodeName="UforsAutoBoot"        DisplayName="uFORS Auto Boot"        Description="uFORS Auto-Boot on Startup Enable/Disable"      BitOffset="0"  BitLength="1"	ValueType="Boolean"			EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
  </Ttcs>

  <Ttcs CanSet="true" CanGet="true" CodeName="UforsSvcSettings" DisplayName="uFORS Service Settings" Description="Set/Get the uFORS Service Settings - used by all instances" Len="7" PartOfStartItem="0" PartOfNumItems="0" Group="uFORS">
  	<Item CodeName="MaxReqErrors"           DisplayName="Max Request Errors"     Description="uFORS Maximum Number of data request Errors Before Entering Error State"    BitOffset="0"   BitLength="32"	ValueType="UnsignedInteger" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="SampleFrequency"        DisplayName="Sample Frequency"       Description="uFORS Sample Frequency"           								                          BitOffset="32"  BitLength="16"	ValueType="UnsignedInteger" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="Hz" RangeMin="5" RangeMax="1000" />
    <Item CodeName="AutoSample"             DisplayName="Auto Sample"            Description="uFORS Auto-Sample Enable/Disable" 								                          BitOffset="48"  BitLength="1"	ValueType="Boolean"					EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
  </Ttcs>

  <Ttcs CanSet="false" CanGet="true" CodeName="NodeSvcStatus" DisplayName="Node Service Status" Description="Node Service Status" Len="17" PartOfStartItem="0" PartOfNumItems="0" Group="uFORS">
    <Item CodeName="NodeState"              DisplayName="Node State"              Description="CubeNode Node Service State"       BitOffset="0" BitLength="8"   ValueType="Enumeration" EnumerationName="NodeState" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="BootError"              DisplayName="Boot Error"              Description="uFORS Boot errors"                 BitOffset="8" BitLength="128" ValueType="Struct" StructName="BootError" Iterator="Ports" />
  </Ttcs>

  <Ttcs CanSet="false" CanGet="true" CodeName="UforsSvcStatus" DisplayName="uFORS Service Status" Description="uFORS Service Status" Len="40" PartOfStartItem="0" PartOfNumItems="0" Group="uFORS">
    <Item CodeName="Status"    DisplayName="uFORS Status"  Description="uFORS Status." BitOffset="0" BitLength="320" ValueType="Struct" StructName="UforsStatus" Iterator="Ports" />
  </Ttcs>

	<!-- ****************** uFORS ****************** -->

  <Ttcs CanSet="false" CanGet="true" CodeName="UforsTlm" DisplayName="uFORS TLM" Description="Get latest uFORS TLM Packets (does not perform a new request)" Len="20" PartOfStartItem="0" PartOfNumItems="0" Group="uFORS">
    <Item CodeName="Tlm"    DisplayName="uFORS TLM data"  Description="uFORS TLM data." BitOffset="0" BitLength="160" ValueType="Struct" StructName="UforsTlmData" Iterator="Ports" />
  </Ttcs>

  <Ttcs CanSet="false" CanGet="true" CodeName="UforsTlmPort1" DisplayName="Port 1 uFORS TLM" Description="Get uFORS TLM Packet from port 1 (performs a new request only if auto-sample is disabled)" Len="5" PartOfStartItem="0" PartOfNumItems="0" Group="uFORS">
    <Item CodeName="Tlm"    DisplayName="uFORS TLM data"  Description="uFORS TLM data." BitOffset="0" BitLength="40" ValueType="Struct" StructName="UforsTlmData" Iterator="" />
  </Ttcs>

  <Ttcs CanSet="false" CanGet="true" CodeName="UforsTlmPort2" DisplayName="Port 2 uFORS TLM" Description="Get uFORS TLM Packet from port 2 (performs a new request only if auto-sample is disabled)" Len="5" PartOfStartItem="0" PartOfNumItems="0" Group="uFORS">
    <Item CodeName="Tlm"    DisplayName="uFORS TLM data"  Description="uFORS TLM data." BitOffset="0" BitLength="40" ValueType="Struct" StructName="UforsTlmData" Iterator="" />
  </Ttcs>

  <Ttcs CanSet="false" CanGet="true" CodeName="UforsTlmPort3" DisplayName="Port 3 uFORS TLM" Description="Get uFORS TLM Packet from port 3 (performs a new request only if auto-sample is disabled)" Len="5" PartOfStartItem="0" PartOfNumItems="0" Group="uFORS">
    <Item CodeName="Tlm"    DisplayName="uFORS TLM data"  Description="uFORS TLM data." BitOffset="0" BitLength="40" ValueType="Struct" StructName="UforsTlmData" Iterator="" />
  </Ttcs>

  <Ttcs CanSet="false" CanGet="true" CodeName="UforsTlmPort4" DisplayName="Port 4 uFORS TLM" Description="Get uFORS TLM Packet from port 4 (performs a new request only if auto-sample is disabled)" Len="5" PartOfStartItem="0" PartOfNumItems="0" Group="uFORS">
    <Item CodeName="Tlm"    DisplayName="uFORS TLM data"  Description="uFORS TLM data." BitOffset="0" BitLength="40" ValueType="Struct" StructName="UforsTlmData" Iterator="" />
  </Ttcs>

  <!-- ****************** STRUCTS ****************** -->

  <Struct CodeName="PowerState" Description="Power state for uFORS" Len="1">
    <Item CodeName="Power"  DisplayName="Power State uFORS" Description="uFORS Power State" BitOffset="0"   BitLength="8" ValueType="Enumeration" EnumerationName="UforsPowerState" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
  </Struct>
	
  <Struct CodeName="BootError" Description="Boot error of uFORS" Len="4">
    <Item CodeName="ErrorCode"    DisplayName="Boot Error Code"  Description="Boot Error Code"  BitOffset="0" BitLength="32" ValueType="UnsignedInteger" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
  </Struct>

  <Struct CodeName="UforsStatus" Description="uFORS service status data" Len="10">
    <Item CodeName="State"          		    DisplayName="Service State"                  Description="Service State"                            BitOffset="0"  BitLength="8" ValueType="Enumeration" EnumerationName="UforsState" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="FailCount"           	  DisplayName="Req Failure Count"              Description="Request Failure Count"                    BitOffset="8"  BitLength="32" ValueType="UnsignedInteger" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="FailCountLastSuccess"   DisplayName="Req Last Success Failure Count" Description="Request Failure Count at Last Success"    BitOffset="40" BitLength="32" ValueType="UnsignedInteger" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="LastReqResult"  	      DisplayName="Last Req Result"                Description="Last Request Result" 		                  BitOffset="72" BitLength="8" ValueType="Enumeration" EnumerationName="UforsReqResult" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
  </Struct>

  <Struct CodeName="UforsTlmData" Description="Raw uFORS telemetry data" Len="5">
    <Item CodeName="Rate"                   DisplayName="Rate"                     Description="Angular rate"                                 BitOffset="0"  BitLength="32" ValueType="FloatingPoint" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="degps"  RangeMin="-20" RangeMax="20" />
    <Item CodeName="Nogo"                   DisplayName="NOGO"                     Description="Status - NOGO bit"				                    BitOffset="32" BitLength="1" ValueType="Boolean" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="RstAck"                 DisplayName="Reset Ack"                Description="Status - Reset acknowledge bit"				        BitOffset="33" BitLength="1" ValueType="Boolean" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="TempWarn"               DisplayName="Temp Warning"             Description="Status - temperature warning bit"				      BitOffset="34" BitLength="1" ValueType="Boolean" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="AuxControlLoopErr"      DisplayName="Aux Control Loop Err"     Description="Status - auxiliary control loop error bit"    BitOffset="35" BitLength="1" ValueType="Boolean" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="HardBitErr"             DisplayName="Hardware BIT Err"         Description="Status - Hardware BIT error bit"				      BitOffset="36" BitLength="1" ValueType="Boolean" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="MeasRangeErr"           DisplayName="Measurement Range Err"    Description="Status - Measurement range exceeded bit"			BitOffset="37" BitLength="1" ValueType="Boolean" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="UnknwnCmd"              DisplayName="Unknown Command"          Description="Status - unknown command bit"				          BitOffset="38" BitLength="1" ValueType="Boolean" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="Reserved"               DisplayName="Reserved"                 Description="Reserved"                                     BitOffset="39" BitLength="1" ValueType="Reserved" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
  </Struct>

  <Struct CodeName="UforsSettings" Description="uFORS service settings" Len="7">
    <Item CodeName="MaxReqErrors"           DisplayName="Max Request Errors"       Description="uFORS Maximum Number of data request Errors Before Entering Error State"  BitOffset="0"   BitLength="32"	ValueType="UnsignedInteger" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
    <Item CodeName="SampleFrequency"        DisplayName="Sample Frequency"       Description="uFORS Sample Frequency"           								                          BitOffset="32"  BitLength="16"	ValueType="UnsignedInteger" EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="Hz" RangeMin="5" RangeMax="1000" />
    <Item CodeName="AutoSample"             DisplayName="Auto Sample"            Description="uFORS Auto-Sample Enable/Disable" 								                          BitOffset="48"  BitLength="1"	ValueType="Boolean"					EnumerationName="" CalibrationUserToRaw="" CalibrationRawToUser="" MeasurementUnit="" RangeMin="0" RangeMax="0" />
  </Struct>

	<!-- ****************** ENUMERATIONS ****************** -->

  <Enum>
    <CodeName>NodeState</CodeName>
		<EnumValue NumericalValue="0" CodeName="NodeOff"            DisplayName="Off" Description="Node is Off" />
    <EnumValue NumericalValue="1" CodeName="NodeIdle"           DisplayName="Idle" Description="Node is Idle" />
    <EnumValue NumericalValue="2" CodeName="NodeUforsPwr"       DisplayName="uFORS Power CHange"  Description="Node is powering on or off one or more uFORS" />
  </Enum>

  <Enum>
    <CodeName>UforsState</CodeName>
    <EnumValue NumericalValue="0" CodeName="UforsOff"           DisplayName="Off"         Description="uFORS is Off" />
    <EnumValue NumericalValue="1" CodeName="UforsBoot"          DisplayName="Boot"        Description="uFORS is Booting" />
    <EnumValue NumericalValue="2" CodeName="UforsReset"         DisplayName="Reset"       Description="uFORS is being reset" />
    <EnumValue NumericalValue="3" CodeName="UforsIdle"          DisplayName="Idle"        Description="uFORS is Idle" />
    <EnumValue NumericalValue="4" CodeName="UforsAuto"          DisplayName="uFORS Auto"  Description="uFORS is Auto-Sampling" />
    <EnumValue NumericalValue="5" CodeName="UforsError"         DisplayName="uFORS Error" Description="uFORS is in an Error State" />
  </Enum>

  <Enum>
    <CodeName>UforsPowerState</CodeName>
    <EnumValue NumericalValue="0" CodeName="PoweredNoChange" DisplayName="No Change" Description="No change" />
    <EnumValue NumericalValue="1" CodeName="PoweredOff" DisplayName="uFORS Off" Description="uFORS Power Off" />
    <EnumValue NumericalValue="2" CodeName="PoweredOn"  DisplayName="uFORS On"  Description="uFORS Power On" />
  </Enum>

  <Enum>
    <CodeName>UforsReqResult</CodeName>
    <EnumValue NumericalValue="0" CodeName="ReqNone" DisplayName="Request None" Description="No Request Yet" />
    <EnumValue NumericalValue="1" CodeName="Req" DisplayName="Request Response" Description="Request Response" />
    <EnumValue NumericalValue="2" CodeName="SumError" DisplayName="Sum Error" Description="Sum Error" />
    <EnumValue NumericalValue="3" CodeName="CorruptData" DisplayName="Corrupt Data" Description="Corrupt Data" />
    <EnumValue NumericalValue="4" CodeName="JunkData" DisplayName="Junk Data" Description="Junk Data" />
    <EnumValue NumericalValue="5" CodeName="IncompleteMsg" DisplayName="Incomplete Message" Description="Incomplete Message" />
    <EnumValue NumericalValue="6" CodeName="Timeout" DisplayName="Timeout" Description="Timeout" />
    <EnumValue NumericalValue="7" CodeName="Overflow" DisplayName="Overflow" Description="Overflow" />
  </Enum>

	<!-- !!! app-specific ID's should start from the mid-point (64 TC & 192 TLM) and should increment & decrement towards the common ID's !!! -->

	<!-- TC -->

	<TtcIds TtcName="UforsPower"			    		      GetId="255" SetId="68" LogId="0" />
  <TtcIds TtcName="NodeSvcSettings"			    		  GetId="255" SetId="69" LogId="0" />
  <TtcIds TtcName="UforsSvcSettings"			    		GetId="255" SetId="67" LogId="0" />

  <!-- TLM -->
  <TtcIds TtcName="NodeSvcSettings"			    		  GetId="192" SetId="255" LogId="0" />
  <TtcIds TtcName="UforsSvcSettings"			    		GetId="193" SetId="255" LogId="0" />
  <TtcIds TtcName="NodeSvcStatus"			    		    GetId="191" SetId="255" LogId="0" />
  <TtcIds TtcName="UforsSvcStatus"			    		  GetId="194" SetId="255" LogId="0" />
  <TtcIds TtcName="UforsTlm"			    		        GetId="190" SetId="255" LogId="0" />
  <TtcIds TtcName="UforsTlmPort1"			    		    GetId="195" SetId="255" LogId="0" />
  <TtcIds TtcName="UforsTlmPort2"			    		    GetId="189" SetId="255" LogId="0" />
  <TtcIds TtcName="UforsTlmPort3"			    		    GetId="196" SetId="255" LogId="0" />
  <TtcIds TtcName="UforsTlmPort4"			    		    GetId="188" SetId="255" LogId="0" />


   <!-- ****************** MODULES ****************** -->

   <Modules>
     <string>common-framework/common-framework-1.xml</string>
     <string>cube-node-1/cube-node-common-1.xml</string>
   </Modules>

  <!-- ****************** TYPES MODULES ****************** -->
	<TypesModules>
    <string>common-framework/common-framework-types-1.xml</string>
    <string>cube-node-1/cube-node-common-types-1.xml</string>
	</TypesModules>

</NodeDefinition>
